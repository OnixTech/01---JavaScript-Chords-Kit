<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>JS Electric guitar Chords Kit</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="title">
    <h1>Electric guitar Chords</h1>
    <div class="sub-title">
    <h3>Press the corresponding keys on your keyboard to listen to the guitar chords</h3>
    </div>
    </div>
    <div class="container">
        <div class="row flexbox">
          <div data-key="67" class="box col-sm-1 key C">C</div>
          <div data-key="68" class="box col-sm-1 key D">D</div>
          <div data-key="69" class="box col-sm-1 key E">E</div>
          <div data-key="70" class="box col-sm-1 key F">F</div>
          <div data-key="71" class="box col-sm-1 key G">G</div>
          <div data-key="65" class="box col-sm-1 key A">A</div>
          <div data-key="66" class="box col-sm-1 key B">B</div>
        </div>
    </div>

    <audio data-key="67" src="sounds/C.wav"></audio>
    <audio data-key="68" src="sounds/D.wav"></audio>
    <audio data-key="69" src="sounds/E.wav"></audio>
    <audio data-key="70" src="sounds/F.wav"></audio>
    <audio data-key="71" src="sounds/G.wav"></audio>
    <audio data-key="65" src="sounds/A.wav"></audio>
    <audio data-key="66" src="sounds/B.wav"></audio>

    <script>
        
        function playguitar(e){
            const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
            const key = document.querySelector(`.key[data-key="${e.keyCode}"]`)
            console.log(audio);
            if(!audio) return;
            audio.currentTime = 0;
            audio.play();
            key.classList.add('playing');
        }
        function removeTransition(e){
            if (e.propertyName !== 'transform') return;
            this.classList.remove('playing');
        }
        
        const keys = document.querySelectorAll('.key');
        keys.forEach(key => key.addEventListener('transitionend', removeTransition)); 
        window.addEventListener('keydown', playguitar);

    </script>
</body>
</html>